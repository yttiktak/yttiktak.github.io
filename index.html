<html>
<head>
    <script>   
  window.addEventListener("load", function() {
    console.log("hello?? anyone out there???");
    function report_status(msg) {
     stat = document.getElementById('status');
     if (stat!=null) { 
         stat.innerText = msg; 
     }
    }     
      console.log("after a def?");
    report_status("TRYING");
        console.log("now??");
      
let accelerometer = null;
try {
    console.log("in the try");
    accelerometer = new Accelerometer({ referenceFrame: 'device' });
    accelerometer.addEventListener('error', event => {
        // Handle runtime errors.
        if (event.error.name === 'NotAllowedError') {
            report_status("NAE");
        } else if (event.error.name === 'NotReadableError' ) {
            report_status('Cannot connect to the sensor.');
        }
    });
    accelerometer.addEventListener('reading', event => {
        report_status("reading event READING EVENT");                             
    });
    accelerometer.start();
} catch (error) {
    if (error.name === 'SecurityError') {
        report_status('Sensor construction was blocked by a feature policy.');
    } else if (error.name === 'ReferenceError') {
        report_status('Sensor is not supported by the User Agent.');
    } else {
        throw error;
    }
}
      
    });
        
  </script>
  
</head>
<body>
  <div>testing accelerometer</div>
  <div id = "info">GOOD GRIEF!! ANY LUCK?</div>
</body>
</html>
